1. Assuming all characters fit in a single code unit.
2. Working with codepoints instead.


